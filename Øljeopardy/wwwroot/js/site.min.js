function MoveAnswerQuestion(n,t){var e="q".concat(n),o="a".concat(n),s=t==="up"?"q".concat(n-1):"q".concat(n+1),h=t==="up"?"a".concat(n-1):"a".concat(n+1),i=document.getElementById(e),c=i.value,r=document.getElementById(o),l=r.value,u=document.getElementById(s),a=u.value,f=document.getElementById(h),v=f.value;i.value=a;r.value=v;u.value=c;f.value=l}function addSpinner(n){n.classList.add("active")}function removeSpinner(n){n.classList.remove("active")}function checkIfGameChanged(){var t="",n;if($.ajax({url:"/getGameId",async:!1,dataType:"text",success:function(n){t=n}}),t!==""){n=(new signalR.HubConnectionBuilder).withUrl("/gameUpdate").configureLogging(signalR.LogLevel.Information).build();n.on("gameUpdated",function(){n.stop();gameBottomMargin=$("#gameBottomMargin");gameBottomMargin.length&&gameBottomMargin.length>0&&loadGame()});n.start().then(function(){n.invoke("joinGroup",t)})}return t}function selectAnswerQuestion(n){var t=document.getElementsByClassName("category-radio-button-label");for(i=0;i<t.length;i++)t[i].classList.remove("selected");n.classList.add("selected")}$(document).on("click",".navbar-collapse.in",function(n){$(n.target).is("a")&&$(this).collapse("hide")});$(document).ready(function(){$(document).click(function(n){var t=$(n.target),i=$(".navbar-collapse").hasClass("navbar-collapse collapse in");i!==!0||t.hasClass("navbar-toggle")||$("button.navbar-toggle").click()})});var loadRules=function(){$("#master-container").load("/Home/Rules")},loadCategories=function(){$("#master-container").load("/Home/Categories")},loadCategoriesAdded=function(){$("#master-container").load("/Home/Categories?pageAction=AddedCategory")},loadCategoriesEdited=function(){$("#master-container").load("/Home/Categories?pageAction=EditedCategory")},loadCategoriesDeleted=function(){$("#master-container").load("/Home/Categories?pageAction=DeletedCategory")},loadGame=function(){var n=checkIfGameChanged();n===""?$("#master-container").load("/Home/Main"):$("#master-container").load("/Home/Game")},loadMain=function(){$("#master-container").load("/Home/Main")},loadAddGame=function(){$("#master-container").load("/Game/Add")},loadCreateCategory=function(){$("#master-container").load("/Category/Create")},loadParticipateGame=function(){$("#master-container").load("/Game/Participate")},submitCategory=function(){var n=$("#Name")[0].value,t=$("#categoryForm"),i=$("#Id")[0].value;if(n===null||$.trim(n)=="")return alert("Du skal navngive din kategori"),!1;$.ajax({url:"/Category/SubmitCategory",data:t.serialize(),async:!1});i===""?loadCategoriesAdded():loadCategoriesEdited()},editCategory=function(n){$.post("/Category/Edit",{chosenCategoryGuid:n}).done(function(n){$("#master-container").html(n)})},deleteCategory=function(n){var t=confirm("Kategorien slettes og kan ikke gendannes!");t===!0&&$.ajax({url:"/Category/Delete",type:"post",data:{chosenCategoryGuid:n},async:!1}).done(function(n){n&&loadCategoriesDeleted()})},completeAddGame=function(){var n=$("#addGameForm"),t=n[0][0].selectedIndex;if(t===0)return alert("Vælg en kategori, du vil bruge i spillet"),!1;$.ajax({url:"/Game/Completeadd",data:n.serialize(),async:!1});loadGame()},completeParticipation=function(){var n=$("#completeParticipationForm"),r=n[0][0].selectedIndex,i=n[0][0].selectedIndex,t;if(i===0)return alert("Vælg et spil, du vil deltage i"),!1;if(t=n[0][1].selectedIndex,t===0)return alert("Vælg en kategori, du vil bruge i spillet"),!1;$.ajax({url:"/Game/CompleteParticipation",data:n.serialize(),async:!1});loadGame()},selectWinner=function(n,t,i){addSpinner(i);$.ajax({url:"/Game/SelectWinner",type:"post",data:{ChosenWinnerId:n,Game:{Id:t}},async:!1});loadGame()},selectAnswer=function(n,t,i){n!=null&&addSpinner(n);$.ajax({url:"/Game/SelectAnswer",data:{ChosenAnswerQuestionGuid:t,GameId:i},async:!1});loadGame()},eatYourNote=function(n){if(promptAnswer=confirm("Bekræft, at ingen kunne gætte spørgsmålet."),!promptAnswer)return!1;n!=null&&addSpinner(n);$.ajax({url:"/Game/EatYourNote",type:"post",success:function(){loadGame()}})},leaveGame=function(n){if(promptAnswer=confirm("Bekræft, at du vil forlade det aktuelle spil."),!promptAnswer)return!1;n!=null&&addSpinner(n);$.ajax({url:"/Game/LeaveGame",type:"post",success:function(){loadMain()},error:function(){removeSpinner(n);alert("Du kan ikke forlade spillet, når det er din tur til at gøre noget.")}})};